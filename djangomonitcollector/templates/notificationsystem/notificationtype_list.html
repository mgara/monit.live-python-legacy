{% extends "base.html" %}
{% load static %}{% load i18n %}
{% block title %} Manage Notifications {% endblock %}

{% load staticfiles %}
{% load extra_tags %}
{% load crispy_forms_tags %}
{% block page_title %} Manage Notifications {% endblock %}



{% block content %}

<div class="container">
    <div class="row">

        {% if object_list %}
            <table class="table table-hover table-hover table-striped table-bordered">
                <tr>
                    <th class="col-sm-1"></th>
                    <th class="col-sm-1">Status</th>
                    <th class="col-sm-6">Notification Label</th>
                    <th class="col-sm-3">Created At</th>
                    <th class="col-sm-1">Created By</th>
                </tr>

                {% for nt in object_list %}
                    <tr class="link" >
                        <td>

                            <div class="btn-group pull-right" role="group" aria-label="...">
                                <button type="button" class="btn btn-xs btn-info" onclick="document.location = '{% url 'n:notificationtype_view' nt.id %}';" ><i class="fa fa-eye"></i></button>
                                <button type="button" class="btn btn-xs btn-info" onclick="document.location = '{% url 'n:notificationtype_update' nt.id %}';"><i class="fa fa-edit"></i></button>
                                <button type="button" class="btn btn-xs btn-danger" onclick="document.location = '{% url 'n:notificationtype_delete'  nt.id %}';"><i class="fa fa-trash-o"></i></button>
                            </div>

                        </td>
                        <td>{{ nt.notification_enabled|nt_status_to_label|safe }}</td>
                        <td>{{ nt.notification_label }}</td>
                        <td>{{ nt.created_at }}</td>
                        <td>{{ nt.notification_user }}</td>
                    </tr>
                {% endfor %}
            </table>
        {% else %}
            <div class="container">

               <div class="row">
                    <p>  <h2><span class="text-navy">{% trans " There are no notification rules configured Yet" %}</span></h2>

                </div>
                 <div class="hr-line-dashed"></div>
                    <div class="row clearfix">
                        <a href="{% url 'n:notificationtype_create' %}" class="btn btn-primary">{% trans "New Notification Rule" %}</a>
                    </div>
            </div>
          </div>
        </div>
        {% endif %}
</div>
    </div>
    <script language="javascript">
        function toggle(source) {
            checkboxes = document.getElementsByName('delete_item');
            for (var i = 0, n = checkboxes.length; i < n; i++) {
                checkboxes[i].checked = source.checked;
            }
        }
    </script>
{% endblock content %}
